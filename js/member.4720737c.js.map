{"version":3,"sources":["webpack:///./src/views/Member.vue?6e8b","webpack:///src/views/Member.vue","webpack:///./src/views/Member.vue?b247","webpack:///./src/views/Member.vue","webpack:///./src/views/Member.vue?fd52"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","items","_m","_v","_s","$store","state","user","name","_e","orderState","orders","ordersFields","scopedSlots","_u","key","fn","productsDetail","on","$event","proD","$bvModal","show","whichOrder","cartFields","staticStyle","item","file","price","count","proxy","ref","ok","allProductsPrice","staticRenderFns","data","methods","index","mounted","axios","get","component"],"mappings":"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","file":"js/member.4720737c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Member\"},[_c('b-breadcrumb',{attrs:{\"items\":_vm.items}}),_vm._m(0),_c('hr'),_c('div',{staticClass:\"member container\"},[_c('b-tabs',{staticClass:\"tabs\",attrs:{\"content-class\":\"mt-3\"}},[_c('b-tab',{attrs:{\"title\":\"會員資料\",\"active\":\"\"}},[_vm._v(\" 使用者：\"+_vm._s(this.$store.state.user.name)+\" \")]),_c('b-tab',{attrs:{\"title\":\"訂單列表\"}},[(_vm.orderState)?_c('div',[_c('p',[_vm._v(\"目前還沒有訂單喔\")])]):_vm._e(),(!_vm.orderState)?_c('div',[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.orders,\"fields\":_vm.ordersFields},scopedSlots:_vm._u([{key:\"cell(productsDetail)\",fn:function(productsDetail){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){_vm.proD(productsDetail),_vm.$bvModal.show('modal-scoped')}}},[_vm._v(\" 商品詳情 \")])]}}],null,false,1392988275)})],1):_vm._e(),_c('b-modal',{attrs:{\"id\":\"modal-scoped\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.orders[_vm.whichOrder].productsDetail,\"fields\":_vm.cartFields},scopedSlots:_vm._u([{key:\"cell(file)\",fn:function(productsDetail){return [_c('img',{staticStyle:{\"width\":\"50px\"},attrs:{\"src\":productsDetail.item.file}})]}},{key:\"cell(allprice)\",fn:function(productsDetail){return [_c('p',[_vm._v(_vm._s(productsDetail.item.price * productsDetail.item.count))])]}}])})]},proxy:true},{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('p',[_vm._v(\"總價格：\"+_vm._s(_vm.orders[_vm.whichOrder].allProductsPrice))]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\" OK \")])]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h1',{staticClass:\"font-weight-bold float-left pl-5 \"},[_vm._v(\"會員中心\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Member\">\n    <b-breadcrumb :items=\"items\"></b-breadcrumb>\n    <div class=\"title\">\n      <h1 class=\"font-weight-bold float-left pl-5 \">會員中心</h1>\n    </div>\n    <hr>\n    <div class=\"member container\">\n      <b-tabs class=\"tabs\"\n              content-class=\"mt-3\">\n        <b-tab title=\"會員資料\"\n               active>\n          使用者：{{ this.$store.state.user.name }}\n        </b-tab>\n        <b-tab title=\"訂單列表\">\n          <div v-if=\"orderState\">\n            <p>目前還沒有訂單喔</p>\n          </div>\n          <div v-if=\"!orderState\">\n            <b-table striped\n                     hover\n                     :items=\"orders\"\n                     :fields=\"ordersFields\">\n              <template #cell(productsDetail)=\"productsDetail\">\n                <b-button variant=\"danger\"\n                          @click=\"proD(productsDetail),$bvModal.show('modal-scoped')\">\n                  商品詳情\n                </b-button>\n              </template>\n            </b-table>\n          </div>\n          <b-modal id=\"modal-scoped\">\n            <template #default=\"\">\n              <b-table striped\n                       hover\n                       :items=\"orders[whichOrder].productsDetail\"\n                       :fields=\"cartFields\">\n                <template #cell(file)=\"productsDetail\">\n                  <img :src=\"productsDetail.item.file\"\n                       style=\"width: 50px\" />\n                </template>\n                <template #cell(allprice)=\"productsDetail\">\n                  <p>{{ productsDetail.item.price *  productsDetail.item.count}}</p>\n                </template>\n              </b-table>\n            </template>\n            <template #modal-footer=\"{ ok}\">\n              <p>總價格：{{ orders[whichOrder].allProductsPrice }}</p>\n              <b-button size=\"sm\"\n                        variant=\"success\"\n                        @click=\"ok()\">\n                OK\n              </b-button>\n            </template>\n          </b-modal>\n        </b-tab>\n      </b-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Home',\n  data () {\n    return {\n      items: [\n        {\n          text: '首頁',\n          to: { name: 'Home' }\n        },\n        {\n          text: '會員中心',\n          active: true\n        }\n      ],\n      ordersFields: [\n        {\n          key: 'name',\n          label: '姓名'\n        },\n        {\n          key: 'paymentMethod',\n          label: '付款方式'\n        },\n        {\n          key: 'deliveryMethod',\n          label: '運送方式'\n        },\n        {\n          key: 'phone',\n          label: '電話'\n        },\n        {\n          key: 'address',\n          label: '地址'\n        },\n        {\n          key: 'date',\n          label: '訂購日期'\n        },\n        {\n          key: 'allProductsAmount',\n          label: '總數量'\n        },\n        {\n          key: 'allProductsPrice',\n          label: '總價格'\n        },\n        {\n          key: 'cargoState',\n          label: '訂單狀態'\n        },\n        {\n          key: 'productsDetail',\n          label: '商品詳情'\n        }\n      ],\n      cartFields: [\n        {\n          key: 'file',\n          label: '圖片'\n        },\n        {\n          key: 'name',\n          label: '品名'\n        },\n        {\n          key: 'price',\n          label: '價格'\n        },\n        {\n          key: 'count',\n          label: '數量'\n        },\n        {\n          key: 'allprice',\n          label: '合計'\n        }\n      ],\n      // order: null,\n      orders: [],\n      orderState: false,\n      whichOrder: null\n    }\n  },\n  methods: {\n    proD (productsDetail) {\n      this.whichOrder = productsDetail.index\n    }\n  },\n  mounted () {\n    this.axios.get(process.env.VUE_APP_API + '/orders/userpresent')\n      .then(res => {\n        if (res.data.success) {\n          // console.log(res.data)\n          if (res.data.result.length === 0) {\n            this.orderState = true\n          } else if (res.data.result.length !== 0) {\n            this.orderState = false\n            for (let i = 0; i < res.data.result.length; i++) {\n              this.orders.push(\n                {\n                  _id: res.data.result[i]._id,\n                  name: res.data.result[i].name,\n                  paymentMethod: res.data.result[i].paymentMethod,\n                  deliveryMethod: res.data.result[i].deliveryMethod,\n                  phone: res.data.result[i].phone,\n                  address: res.data.result[i].address,\n                  date: res.data.result[i].date,\n                  allProductsAmount: res.data.result[i].allProductsAmount,\n                  allProductsPrice: res.data.result[i].allProductsPrice,\n                  productsDetail: res.data.result[i].productsDetail,\n                  cargoState: res.data.result[i].cargoState\n                }\n              )\n            }\n          }\n        } else {\n          this.$swal({\n            icon: 'error',\n            title: '錯誤',\n            text: res.data.message\n          })\n        }\n      })\n      .catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: err.response.data.message\n        })\n      })\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.Member {\n  overflow: hidden;\n  .tabs {\n    overflow: hidden;\n    text-align: left;\n  }\n  .member {\n    overflow: hidden;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Member.vue?vue&type=template&id=715c7d88&scoped=true&\"\nimport script from \"./Member.vue?vue&type=script&lang=js&\"\nexport * from \"./Member.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Member.vue?vue&type=style&index=0&id=715c7d88&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"715c7d88\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=style&index=0&id=715c7d88&scoped=true&lang=scss&\""],"sourceRoot":""}