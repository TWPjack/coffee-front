(function(t){function e(e){for(var n,a,c=e[0],i=e[1],u=e[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},o={app:0},s=[];function c(t){return i.p+"js/"+({about:"about",cart:"cart",login:"login",member:"member",products:"products",produtcsdetail:"produtcsdetail",qna:"qna",reg:"reg",terms:"terms"}[t]||t)+"."+{about:"6e775668",cart:"6f9c74b1",login:"710c6958",member:"4720737c",products:"4337f156",produtcsdetail:"e72455af",qna:"36620779",reg:"3593ae04",terms:"358f2131"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],r={about:1,login:1,member:1,products:1,produtcsdetail:1,qna:1,reg:1,terms:1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({about:"about",cart:"cart",login:"login",member:"member",products:"products",produtcsdetail:"produtcsdetail",qna:"qna",reg:"reg",terms:"terms"}[t]||t)+"."+{about:"1d37b570",cart:"31d6cfe0",login:"7f4fbd3a",member:"4c6f9e60",products:"7c0417d8",produtcsdetail:"13c0c270",qna:"0fa95567",reg:"37e35bf3",terms:"bdda7f1c"}[t]+".css",o=i.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===n||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[t],f.parentNode.removeChild(f),r(s)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"1df4":function(t,e,r){"use strict";r("db8a")},"2de9":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("0cdd");var n=r("2b0e"),a=r("5f5b");r("ab8b"),r("2dd8");n["default"].use(a["a"]);var o=r("bc3a"),s=r.n(o),c=r("2106"),i=r.n(c),u=r("5886"),l=(r("4413"),r("71a5")),d=r.n(l),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Navbar"),r("div",{staticClass:"content",style:{minHeight:t.Height+"px"},attrs:{id:"v-content"}},[r("router-view")],1),r("Footer")],1)},m=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Nav"},[n("b-navbar",{staticClass:"nav",attrs:{toggleable:"lg",type:"dark"}},[n("b-navbar-brand",{attrs:{to:"/"}},[n("img",{staticClass:"logo",attrs:{src:r("cf05")}})]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{attrs:{to:"/Products"}},[t._v("商品")]),n("b-nav-item",{on:{click:t.logQuestion}},[t._v("購物車")]),0===t.user.id.length?n("b-nav-item",{attrs:{to:"/login"}},[t._v("登入")]):t._e(),0===t.user.id.length?n("b-nav-item",{attrs:{to:"/reg"}},[t._v("註冊")]):t._e(),t.user.id.length>0?n("b-nav-item",{attrs:{to:"/member"}},[t._v("會員中心")]):t._e(),t.user.id.length>0?n("b-nav-item",{on:{click:t.logout}},[t._v("登出")]):t._e()],1)],1)],1)],1)},h=[],b={name:"Nav",data:function(){return{}},computed:{cartArray:function(){return this.$store.state.cartArray},user:function(){return this.$store.state.user}},methods:{logout:function(){var t=this;this.axios.delete("https://coffeec8763.herokuapp.com/users/logout").then((function(e){e.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("logout"),t.$store.commit("cleanTheCart"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))},logQuestion:function(){var t=this;0===this.$store.state.user.id.length?this.$swal({icon:"error",title:"錯誤",text:"尚未登入"}).then((function(){t.$router.push("/login"),t.$store.state.wherefrom="goingToCart"})):this.$router.push("/Cart")}},mounted:function(){}},g=b,v=(r("c9ed"),r("2877")),_=Object(v["a"])(g,p,h,!1,null,"af5d7e30",null),y=_.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Footer"},[r("footer",{staticClass:"bg-light text-muted py-5"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[t._m(0),t._m(1),r("div",{staticClass:"col-xl-4 col-md-4 col-sm-4 col-12 my-3"},[t._m(2),r("ul",{staticClass:"list-unstyled"},[r("li",[r("router-link",{attrs:{to:"/about"}},[t._v("關於我們")])],1),r("li",[r("router-link",{attrs:{to:"/terms"}},[t._v("隱私權政策")])],1),r("li",[r("router-link",{attrs:{to:"/qna"}},[t._v("常見問題")])],1)])])]),r("p",{staticClass:"text-center"},[t._v("© Copright 2021 悟 咖 啡")])])])])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-xl-4 col-md-4 col-sm-4 col-12 my-3 mx-auto a"},[n("h3",{staticClass:"text-muted mb-md-0 mb-5 bold-text"},[n("img",{staticClass:"logo",attrs:{src:r("cf05")}})]),n("p",{staticClass:"mt-5"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-xl-4 col-md-4 col-sm-4 col-12 my-3"},[r("h6",{staticClass:"mb-2 mb-lg-4 bold-text"},[r("b",[t._v("聯絡我們")])]),r("ul",{staticClass:"list-unstyled"},[r("li",[t._v("地址")]),r("li",[t._v("電話")]),r("li",[t._v("營業時間")]),r("li",[t._v("e-mail")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h6",{staticClass:"mb-2 mb-lg-4 bold-text"},[r("b",[t._v("其他")])])}],$={name:"HelloWorld",props:{}},x=$,A=(r("1df4"),Object(v["a"])(x,w,C,!1,null,"0e7fb5e4",null)),P=A.exports,k={name:"App",data:function(){return{Height:0}},components:{Navbar:y,Footer:P},computed:{user:function(){return this.$store.state.user},admin:function(){return this.$store.state.admin}},methods:{logout:function(){var t=this;this.axios.delete("https://coffeec8763.herokuapp.com/users/logout").then((function(e){e.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))},heartbeat:function(){var t=this;this.axios.get("https://coffeec8763.herokuapp.com/users/heartbeat").then((function(e){t.user.id.length>0&&(e.data||(t.$swal({icon:"error",title:"錯誤",text:"登入時效已過"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")))})).catch((function(){t.$swal({icon:"error",title:"錯誤",text:"發生錯誤"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")}))}},mounted:function(){var t=this;this.heartbeat(),setInterval((function(){t.heartbeat()}),5e3),this.Height=document.documentElement.clientHeight-100,window.onresize=function(){t.Height=document.documentElement.clientHeight-100}}},E=k,O=(r("5c0b"),Object(v["a"])(E,f,m,!1,null,null,null)),j=O.exports,T=(r("d3b7"),r("8c4f")),q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),r("div",{staticClass:"container"},[r("b-row",{staticClass:"w-100"},t._l(t.newsArray,(function(e){return r("b-col",{key:e._id,staticClass:"mb-5",attrs:{cols:"12"}},[r("b-card",[r("b-card-img",{attrs:{src:e.src}}),r("hr"),r("b-card-body",{staticClass:"float-left"},[r("h3",[t._v(t._s(e.titlePresent))]),r("b-card-text",[t._v(t._s(e.desciptionPresent))])],1)],1)],1)})),1)],1)])},H=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"titleBox"},[r("h1",{staticClass:"font-weight-bold float-left pl-5 title"},[t._v("首頁")])])}],S=(r("a4d3"),r("e01a"),r("d81d"),{name:"Home",data:function(){return{newsImage:null,title:"",description:"",newsArray:[]}},components:{},mounted:function(){var t=this;this.axios.get("https://coffeec8763.herokuapp.com/news/newsfront").then((function(e){e.data.success?t.newsArray=e.data.result.map((function(t){return t.src="https://coffeec8763.herokuapp.com/news/file/"+t.file,t.titlePresent=t.title,t.desciptionPresent=t.description,delete t.file,delete t.title,delete t.description,t})):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))}}),N=S,L=(r("8618"),Object(v["a"])(N,q,H,!1,null,"7515d94b",null)),M=L.exports;n["default"].use(T["a"]);var B=[{path:"/",name:"Home",component:M},{path:"/products",name:"Products",component:function(){return r.e("products").then(r.bind(null,"e6dc"))}},{path:"/cart",name:"Cart",component:function(){return r.e("cart").then(r.bind(null,"b789"))}},{path:"/login",name:"Login",component:function(){return r.e("login").then(r.bind(null,"a55b"))}},{path:"/reg",name:"Reg",component:function(){return r.e("reg").then(r.bind(null,"b8b8"))}},{path:"/member",name:"Member",component:function(){return r.e("member").then(r.bind(null,"80d2"))}},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}},{path:"/terms",name:"Terms",component:function(){return r.e("terms").then(r.bind(null,"bd91"))}},{path:"/qna",name:"Qna",component:function(){return r.e("qna").then(r.bind(null,"ac34"))}},{path:"/produtcsdetail",name:"ProdutcsDetail",component:function(){return r.e("produtcsdetail").then(r.bind(null,"14a1"))}}],F=new T["a"]({routes:B}),D=F,I=(r("a434"),r("b0c0"),r("2f62")),Q=r("0e44");n["default"].use(I["a"]);var J=new I["a"].Store({state:{user:{name:"",id:""},whichProduct:"",cartArray:[],allProductsAmount:null,wherefrom:""},mutations:{logout:function(t){t.user.name="",t.user.id=""},login:function(t,e){t.user.name=e.account,t.user.id=e._id},delProduct:function(t,e){t.cartArray.splice(e,1)},addToCart:function(t,e){if(0===t.cartArray.length)t.cartArray.push({_id:e._id,name:e.name,file:e.file,price:e.price,count:e.count,total:e.total});else for(var r=0;r<t.cartArray.length;r++){if(t.cartArray[r]._id===e._id){if(t.cartArray[r].count+e.count<e.total){t.cartArray[r].count+=e.count;break}if(t.cartArray[r].count+e.count>=e.total){t.cartArray[r].count=e.total;break}}if(t.cartArray[r]._id!==e._id&&t.cartArray.length-1===r){t.cartArray.push({_id:e._id,name:e.name,file:e.file,price:e.price,count:e.count,total:e.total});break}}},cleanTheCart:function(t){var e=t.cartArray.length;t.cartArray.splice(0,e)},whichProduct:function(t,e){t.whichProduct=e},allProductsAmount:function(t,e){t.allProductsAmount=e}},actions:{},modules:{},plugins:[Object(Q["a"])()],getters:{items:function(t){return t.items},whichProduct:function(){}}}),z=r("ecee"),K=r("ad3d"),R=r("c074");z["c"].add(R["a"],R["b"]),n["default"].component("font-awesome-icon",K["a"]),s.a.defaults.withCredentials=!0,n["default"].config.productionTip=!1,n["default"].use(i.a,s.a),n["default"].use(u["default"]),n["default"].use(d.a),new n["default"]({router:D,store:J,render:function(t){return t(j)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("9c0c")},8618:function(t,e,r){"use strict";r("db38")},"9c0c":function(t,e,r){},c9ed:function(t,e,r){"use strict";r("2de9")},cf05:function(t,e,r){t.exports=r.p+"img/logo.1183c6a4.png"},db38:function(t,e,r){},db8a:function(t,e,r){}});
//# sourceMappingURL=app.1173f9ac.js.map